version: 2

models:
  - name: twitter_ads__campaign_report
    description: Each record represents the daily ad performance of each campaign.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_day
            - campaign_id 
            - placement
    columns:
      - name: campaign_id
        description: The ID of the campaign.
        tests:
          - not_null
      - name: campaign_name
        description: The name of the campaign.
      - name: clicks
        description: The number of clicks on that date.
      - name: date_day
        description: The date of the performance.
        tests:
          - not_null
      - name: impressions
        description: The number of impressions on that date.
      - name: spend
        description: The amount of spend on that date.
      - name: url_clicks
        description: The number of URL clicks on that date.
      - name: placement
        tests:
          - not_null

  - name: twitter_ads__line_item_report
    description: Each record represents the daily ad performance of each line item.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_day
            - line_item_id 
            - placement
    columns:
      - name: campaign_id
        description: The ID of the campaign.
      - name: campaign_name
        description: The name of the campaign.
      - name: clicks
        description: The number of clicks on that date.
      - name: date_day
        description: The date of the performance.
        tests:
          - not_null
      - name: impressions
        description: The number of impressions on that date.
      - name: line_item_id
        description: The ID of the line item.
        tests:
          - not_null
      - name: line_item_name
        description: The name of the line item.
      - name: spend
        description: The amount of spend on that date.
      - name: url_clicks
        description: The number of URL clicks on that date.
      - name: placement
        tests:
          - not_null
  
  - name: twitter_ads__account_report 
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_day
            - account_id
            - placement
  - name: twitter_ads__keyword_report 
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_day
            - line_item_id 
            - keyword
            - placement
  - name: twitter_ads__promoted_tweet_report
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_day
            - promoted_tweet_id 
            - placement
  - name: twitter_ads__url_report
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date_day
            - tweet_id 
            - placement